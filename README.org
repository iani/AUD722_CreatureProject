#+title: Readme

How to use this folder and make your own Crature.

* 1. Prepare your audio file(s) for loading.

** =~/CreaturesAudio/= is the folder for all audio files for the Creature project

Your audio file and all audio files of all other creatures should be placed together in a folder named =CreaturesAudio=. The folder =CreaturesAudio= should be directly in your home folder like this: =~/CreaturesAudio/=.  You can download the CreatureAudio folder with the files collected by all project members from github, as explained in the next subsection.

** 1.1. Cloning the folder with all audio files from github

Clone the repository https://github.com/iani/CreatureAudio into your home folder. This repository contains the audio files for all creatures.  You should put your own audio file in side this folder.  It will be loaded by your creature class when the server boots.

** 1.2.  Preparing the audio file for your own creature

Your audio file should be a mono (1 channel) wav file.  Its name should be the same as your class name, *in lower case* and the extension should be =.wav=. For example, if your class is named =Cricket= then the audio file should be named =cricket.wav=.

* 2. Prepare your classes

** 2.1. Put the class code inside your SuperCollider Extensions folder and recompile

The class code is found in repository

https://github.com/iani/AUD722_CreatureProject

You can clone this with:

git clone https://github.com/iani/AUD722_CreatureProject.git

Put the cloned repository in your SuperCollider Extensions folder.

Note: To find the location of the SuperCollider Extensions folder, run this in
SuperCollider:

#+begin_src sclang
Platform.userExtensionDir; 
#+end_src

** 2.2. Recompile the supercollider library (Control-Shift-l).

You should recompile the supercollider library every time that you make a change to any of the classes inside this folder.

* 3. Create your creature
** 3.1 Define your creature as a subclass of Creature.

Each creature is defined by a class whose code is contained in a single file.
Creature class files are found in folder =CreatureClasses= of the present repository.  Creature classes must be a subclass of =Creature=.  For this purpose, your Creature class definition code must start like this: This is done by writing this in the of the class definition code:

#+begin_src sclang
Cricket : Creature {
	// your class code here
}
#+end_src

As an example, we will create here a creature class named "Cricket".  It will use a buffer with a recording of crickets.  See  

1. Create a file named =Cricket.sc=
2. Place the file inside the Extensions directory (see above).
3. The Cricket creature class must be a subclass of Creature to work. The code for this is:

#+begin_src sclang
Cricket : Creature {
	// own methods code placed here:
	// day { /* code here! */ }
	// night {  /* code here! */  }
	// ...
}
#+end_src

* 4. Code the behavior of your creature

For any state, write a method with the same name.  The method will run when the SonicEnvironment starts that state. Inside the method, use creature methods to add synths or tasks, release or stop, or substitute synths or tasks, as described below:

** Add synths or tasks
*** add(<synth or playing task>)

Add a synth or task. This does *not* stop previously running synths or tasks. If you want to stop previously running synths or tasks, call method =release=, or use method =substitute=, which stops previously running processes before addin the new process.

**** Add a synth
#+begin_src sclang
	day {
		this add: { WhiteNoise.ar(0.1).dup }.play;
	}
#+end_src

**** Add a task:
#+begin_src sclang
	day {
		this add: Task({ loop { ().play; 1.wait } }).play;
	}
#+end_src

*** addTask(<function for task>)

Shortcut for making a task and adding it. Instead of:
#+begin_src sclang
	day {
		this add: Task({ loop { ().play; 1.wait } }).play;
	}
#+end_src

write:
#+begin_src sclang
	day {
		this addTask: { loop { ().play; 1.wait } };
	}
#+end_src

*** addLoop((<function to be looped in a task>)

Shortcut for looping a function in a task and adding it. Instead of:
#+begin_src sclang
	day {
		this add: Task({ loop { ().play; 1.wait } }).play;
	}
#+end_src

write:

#+begin_src sclang
	day {
		this addLoop: { ().play; 1.wait };
	}
#+end_src

** Add synths or tasks running for predefined duration

*** addTimed(<synth or task>, dur = 1, releaseTime ~ 0.05)

Shortcut to add a synth or task, and stop it after =dur= seconds, with release time =releaseTime=.

#+begin_src sclang
day {
		this.addTimed({ WhiteNoise.ar(0.1).dup }.play, 2, 0.3);
	}
#+end_src

** Substitute previously running processes with a new one

Stop all previously running processes, and then add a new process.

*** substitute(<synth or task>, releaseTime = 0.05)

#+begin_src sclang
	day {
		this.substitute({ LFNoise1.ar(500, 0.1).dup }, 2).play;
	}
#+end_src

*** substituteTimed(<synth or task, dur = 1, releaseTime = 0.05 |)

Stop all previously running processes, and then add a new process running for predefined duration =dur=.

#+begin_src sclang
	day {
		this.substituteTimed({ LFNoise1.ar(900, 0.1).dup }.play, 0.5, 0.02);
	}
#+end_src


** Release(releaseTime = 0.05) (stop) all running synths and tasks

Release (stop) all running synths and tasks with releaseTime as release time.

#+begin_src sclang
	night {
		this.release(5);
	}
#+end_src


** Set the parameters of synths

*** set(<parameter1>, <value1>, <parameter2>, <value2>)

#+begin_src sclang
	night {
		this.set(\freq, 100);
	}
#+end_src

* 5. Recompile the library for changes to take effect.

To load the code saved in Creature subclass definitions, you must recompile the ScClass Library.  The shortcut for this is Command (or Control)-shift-l.

* 6. Start the piece 

#+begin_src sclang
SonicEnvironment.start;
#+end_src
